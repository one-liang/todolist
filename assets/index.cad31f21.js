import{r as e,a as t,b as o,o as n,c as l,w as a,v as d,d as s,e as i,n as r,f as u,t as c,g as p,h as f,i as m,u as v,j as y,k as g,T as h,F as T,l as x,m as b,p as w}from"./vendor.3f458c58.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const D={name:"InputBox",components:{PlusIcon:e},emits:["add-todo"],setup(e,{emit:o}){const n=t("");return{newTodo:n,handleAddTodo:()=>{n.value&&(o("add-todo",n.value),n.value="")}}}},k={class:"relative"};D.render=function(e,t,r,u,c,p){const f=o("PlusIcon");return n(),l("form",k,[a(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.newTodo=e),class:"w-full border-0 bg-white rounded-full duration-200 shadow-md pl-4 pr-12 focus:ring-0 focus:shadow-none",type:"text"},null,512),[[d,u.newTodo,void 0,{trim:!0}]]),s("button",{class:"absolute right-0 top-0 w-10 h-10 rounded-full bg-gray-800 text-white text-xl duration-200 hover:rotate-90 active:scale-90",type:"button",onClick:t[1]||(t[1]=(...e)=>u.handleAddTodo&&u.handleAddTodo(...e))},[i(f,{class:"w-5 h-5 fill-current mx-auto"})])])};const C={name:"TodoFilter",emits:["update-filter"],props:{filter:{type:String,default:"all"}},setup:(e,{emit:t})=>({updateFilter:e=>{t("update-filter",e)}})},I={class:"space-x-3 flex"};C.render=function(e,t,o,a,d,i){return n(),l("ul",I,[s("li",null,[s("button",{class:r(["all"===o.filter?"text-gray-700":"text-gray-300","font-semibold"]),onClick:t[0]||(t[0]=e=>a.updateFilter("all")),type:"button"},"全部",2)]),s("li",null,[s("button",{class:r(["unDone"===o.filter?"text-gray-700":"text-gray-300","font-semibold"]),onClick:t[1]||(t[1]=e=>a.updateFilter("unDone")),type:"button"},"未完成",2)]),s("li",null,[s("button",{class:r(["isDone"===o.filter?"text-gray-700":"text-gray-300","font-semibold"]),onClick:t[2]||(t[2]=e=>a.updateFilter("isDone")),type:"button"},"已完成",2)])])};const S={name:"List",components:{TrashIcon:u},emits:["update-state","update-todo","delete-todo"],props:{todo:{type:Object,default:()=>{}}},setup(e,{emit:o}){const n=t(!1),l=t(e.todo.content),a=t(null),d=t(!1);return{isEditing:n,newContent:l,editInput:a,isCancel:d,updateState:t=>{o("update-state",e.todo.id,t.target.checked)},editTodo:()=>{n.value=!0,m((()=>{a.value.focus()}))},updateTodo:()=>{n.value&&(d.value?d.value=!1:(o("update-todo",e.todo.id,l.value),n.value=!1))},cancelEdit:()=>{d.value=!0,l.value=e.todo.content,n.value=!1},deleteTodo:()=>{o("delete-todo",e.todo.id)}}}},F={class:"flex justify-between px-4 py-3 bg-white rounded-md"},U={class:"flex items-center w-full h-10 space-x-3"},E=["checked"];S.render=function(e,t,u,m,v,y){const g=o("TrashIcon");return n(),l("li",F,[s("div",U,[s("input",{class:"w-5 h-5 text-gray-800 rounded-full cursor-pointer focus:ring-0 active:scale-90",type:"checkbox",checked:u.todo.isDone,onChange:t[0]||(t[0]=(...e)=>m.updateState&&m.updateState(...e))},null,40,E),m.isEditing?p("",!0):(n(),l("div",{key:0,class:r(["w-full h-10 leading-10 border-none px-2 text-gray-800 focus:ring-0 focus:border",u.todo.isDone?"line-through":""]),onDblclick:t[1]||(t[1]=(...e)=>m.editTodo&&m.editTodo(...e))},c(u.todo.content),35)),m.isEditing?a((n(),l("input",{key:1,ref:"editInput","onUpdate:modelValue":t[2]||(t[2]=e=>m.newContent=e),class:"w-full border-none px-2 rounded-md text-gray-800 focus:ring-gray-800",type:"text",onBlur:t[3]||(t[3]=(...e)=>m.updateTodo&&m.updateTodo(...e)),onKeydown:[t[4]||(t[4]=f(((...e)=>m.updateTodo&&m.updateTodo(...e)),["enter"])),t[5]||(t[5]=f(((...e)=>m.cancelEdit&&m.cancelEdit(...e)),["esc"]))]},null,544)),[[d,m.newContent,void 0,{trim:!0}]]):p("",!0)]),s("button",{class:"text-gray-300 ml-3 hover:text-red-500 active:scale-90",type:"button",onClick:t[6]||(t[6]=(...e)=>m.deleteTodo&&m.deleteTodo(...e))},[i(g,{class:"h-4 w-4 fill-current"})])])};const A={setup(){const e=v("todos",[{id:Date.now(),content:"Vite + Tailwind CSS",isDone:!1}]),o=t("all"),n=y((()=>"isDone"===o.value?e.value.filter((e=>e.isDone)):"unDone"===o.value?e.value.filter((e=>!e.isDone)):e.value));return{todos:e,addTodo:t=>{e.value.push({id:Date.now(),content:t,isDone:!1})},updateState:(t,o)=>{const n=e.value.findIndex((e=>e.id===t));-1!==n&&(e.value[n].isDone=o)},updateTodo:(t,o)=>{const n=e.value.findIndex((e=>e.id===t));e.value[n].content=o},deleteTodo:t=>{const o=e.value.findIndex((e=>e.id===t));e.value.splice(o,1)},filter:o,filteredTodos:n,updatefilter:e=>{o.value=e}}}},L={class:"min-h-screen bg-gray-800 py-10"},j=s("h1",{class:"text-5xl text-white text-center font-semibold uppercase mb-8"},"Todolist",-1),N={class:"max-w-md bg-gray-100 rounded-lg shadow-lg min-h-96 mx-auto p-8"};A.render=function(e,t,o,a,d,r){const u=D,c=C,p=S;return n(),l("div",L,[j,s("div",N,[i(u,{class:"mb-6",onAddTodo:a.addTodo},null,8,["onAddTodo"]),i(c,{filter:a.filter,onUpdateFilter:a.updatefilter,class:"mb-4"},null,8,["filter","onUpdateFilter"]),i(h,{tag:"ul",class:"space-y-4","enter-active-class":"transition duration-300","enter-from-class":"opacity-0 scale-90","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-90"},{default:g((()=>[(n(!0),l(T,null,x(a.filteredTodos,(e=>(n(),b(p,{key:e.id,todo:e,onUpdateState:a.updateState,onUpdateTodo:a.updateTodo,onDeleteTodo:a.deleteTodo},null,8,["todo","onUpdateState","onUpdateTodo","onDeleteTodo"])))),128))])),_:1})])])};w(A).mount("#app");
